var express=require("express"),routes=require("./routes"),user=require("./routes/user"),http=require("http"),path=require("path"),mongoose=require("mongoose"),app=express();mongoose.connect("mongodb://localhost/zigsquare_db",function(e){e?console.log("Error al conectar con mongodb"):console.log("Conexion con mongodb exitosa")}),app.set("port",process.env.PORT||3e3),app.set("views",__dirname+"/views"),app.set("view engine","jade"),app.use(express.favicon()),app.use(express.logger("dev")),app.use(express.bodyParser()),app.use(express.methodOverride()),app.use(app.router),app.use(express["static"](path.join(__dirname,"public"))),require("./routes/index")(app),http.createServer(app).listen(app.get("port"),function(){console.log("Express server listening on port "+app.get("port"))});